
function generateQRCode() {
    let qrContainer = document.getElementById("qrcode");
    qrContainer.innerHTML = ""; // Xóa QR cũ
  
    let totalPriceElement = document.getElementById("total-price");
    if (!totalPriceElement) {
        console.error("Không tìm thấy phần tử tổng giá!");
        return;
    }
  
    let totalPrice = totalPriceElement.innerText.replace(/\D/g, ""); // Lấy số tiền
    let qrText = `STK: 123456789 | Ngân hàng: VCB | Chủ TK: Nguyen Van A | Số tiền: ${totalPrice} VND`;
  
    try {
        new QRCode(qrContainer, {
            text: qrText,
            width: 200,
            height: 200,
            correctLevel: QRCode.CorrectLevel.L // Mức thấp để tránh lỗi độ dài
        });
  
        document.getElementById("qr-form").style.display = "block"; // Hiển thị khung QR
    } catch (error) {
        console.error("Lỗi tạo mã QR:", error);
    }
  }
  